# Plugins in the SDK - Claude Docs> Source: https://docs.claude.com/en/docs/agent-sdk/pluginsAgent Skills are now available! [Learn more about extending Claude's capabilities with Agent Skills](https://docs.claude.com/en/docs/agents-and-tools/agent-skills/overview).
[Claude Docs home page![light logo](https://mintcdn.com/anthropic-claude-docs/DcI2Ybid7ZEnFaf0/logo/light.svg?fit=max&auto=format&n=DcI2Ybid7ZEnFaf0&q=85&s=c877c45432515ee69194cb19e9f983a2)![dark logo](https://mintcdn.com/anthropic-claude-docs/DcI2Ybid7ZEnFaf0/logo/dark.svg?fit=max&auto=format&n=DcI2Ybid7ZEnFaf0&q=85&s=f5bb877be0cb3cba86cf6d7c88185216)](https://docs.claude.com/)
![US](https://d3gk2c5xim1je2.cloudfront.net/flags/US.svg)
English
Search...
Ctrl K
  * [Console](https://console.anthropic.com/login)
  * [Support](https://support.claude.com/)
  * [Discord](https://www.anthropic.com/discord)
  * [Sign up](https://console.anthropic.com/login)
  * [Sign up](https://console.anthropic.com/login)


Search...
Navigation
Guides
Plugins in the SDK
[Home](https://docs.claude.com/en/home)[Developer Guide](https://docs.claude.com/en/docs/intro)[API Reference](https://docs.claude.com/en/api/overview)[Model Context Protocol (MCP)](https://docs.claude.com/en/docs/mcp)[Resources](https://docs.claude.com/en/resources/overview)[Release Notes](https://docs.claude.com/en/release-notes/overview)
##### First steps
  * [Intro to Claude](https://docs.claude.com/en/docs/intro)
  * [Quickstart](https://docs.claude.com/en/docs/get-started)


##### Models & pricing
  * [Models overview](https://docs.claude.com/en/docs/about-claude/models/overview)
  * [Choosing a model](https://docs.claude.com/en/docs/about-claude/models/choosing-a-model)
  * [What's new in Claude 4.5](https://docs.claude.com/en/docs/about-claude/models/whats-new-claude-4-5)
  * [Migrating to Claude 4.5](https://docs.claude.com/en/docs/about-claude/models/migrating-to-claude-4)
  * [Model deprecations](https://docs.claude.com/en/docs/about-claude/model-deprecations)
  * [Pricing](https://docs.claude.com/en/docs/about-claude/pricing)


##### Build with Claude
  * [Features overview](https://docs.claude.com/en/docs/build-with-claude/overview)
  * [Using the Messages API](https://docs.claude.com/en/docs/build-with-claude/working-with-messages)
  * [Context windows](https://docs.claude.com/en/docs/build-with-claude/context-windows)
  * [Prompting best practices](https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/claude-4-best-practices)


##### Capabilities
  * [Prompt caching](https://docs.claude.com/en/docs/build-with-claude/prompt-caching)
  * [Context editing](https://docs.claude.com/en/docs/build-with-claude/context-editing)
  * [Extended thinking](https://docs.claude.com/en/docs/build-with-claude/extended-thinking)
  * [Streaming Messages](https://docs.claude.com/en/docs/build-with-claude/streaming)
  * [Batch processing](https://docs.claude.com/en/docs/build-with-claude/batch-processing)
  * [Citations](https://docs.claude.com/en/docs/build-with-claude/citations)
  * [Multilingual support](https://docs.claude.com/en/docs/build-with-claude/multilingual-support)
  * [Token counting](https://docs.claude.com/en/docs/build-with-claude/token-counting)
  * [Embeddings](https://docs.claude.com/en/docs/build-with-claude/embeddings)
  * [Vision](https://docs.claude.com/en/docs/build-with-claude/vision)
  * [PDF support](https://docs.claude.com/en/docs/build-with-claude/pdf-support)
  * [Files API](https://docs.claude.com/en/docs/build-with-claude/files)
  * [Search results](https://docs.claude.com/en/docs/build-with-claude/search-results)
  * [Google Sheets add-on](https://docs.claude.com/en/docs/agents-and-tools/claude-for-sheets)


##### Tools
  * [Overview](https://docs.claude.com/en/docs/agents-and-tools/tool-use/overview)
  * [How to implement tool use](https://docs.claude.com/en/docs/agents-and-tools/tool-use/implement-tool-use)
  * [Token-efficient tool use](https://docs.claude.com/en/docs/agents-and-tools/tool-use/token-efficient-tool-use)
  * [Fine-grained tool streaming](https://docs.claude.com/en/docs/agents-and-tools/tool-use/fine-grained-tool-streaming)
  * [Bash tool](https://docs.claude.com/en/docs/agents-and-tools/tool-use/bash-tool)
  * [Code execution tool](https://docs.claude.com/en/docs/agents-and-tools/tool-use/code-execution-tool)
  * [Computer use tool](https://docs.claude.com/en/docs/agents-and-tools/tool-use/computer-use-tool)
  * [Text editor tool](https://docs.claude.com/en/docs/agents-and-tools/tool-use/text-editor-tool)
  * [Web fetch tool](https://docs.claude.com/en/docs/agents-and-tools/tool-use/web-fetch-tool)
  * [Web search tool](https://docs.claude.com/en/docs/agents-and-tools/tool-use/web-search-tool)
  * [Memory tool](https://docs.claude.com/en/docs/agents-and-tools/tool-use/memory-tool)


##### Agent Skills
  * [Overview](https://docs.claude.com/en/docs/agents-and-tools/agent-skills/overview)
  * [Quickstart](https://docs.claude.com/en/docs/agents-and-tools/agent-skills/quickstart)
  * [Best practices](https://docs.claude.com/en/docs/agents-and-tools/agent-skills/best-practices)
  * [Using Skills with the API](https://docs.claude.com/en/docs/build-with-claude/skills-guide)


##### Agent SDK
  * [Overview](https://docs.claude.com/en/docs/agent-sdk/overview)
  * [TypeScript SDK](https://docs.claude.com/en/docs/agent-sdk/typescript)
  * [Python SDK](https://docs.claude.com/en/docs/agent-sdk/python)
  * Guides
    * [Streaming Input](https://docs.claude.com/en/docs/agent-sdk/streaming-vs-single-mode)
    * [Handling Permissions](https://docs.claude.com/en/docs/agent-sdk/permissions)
    * [Session Management](https://docs.claude.com/en/docs/agent-sdk/sessions)
    * [Hosting the Agent SDK](https://docs.claude.com/en/docs/agent-sdk/hosting)
    * [Modifying system prompts](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts)
    * [MCP in the SDK](https://docs.claude.com/en/docs/agent-sdk/mcp)
    * [Custom Tools](https://docs.claude.com/en/docs/agent-sdk/custom-tools)
    * [Subagents in the SDK](https://docs.claude.com/en/docs/agent-sdk/subagents)
    * [Slash Commands in the SDK](https://docs.claude.com/en/docs/agent-sdk/slash-commands)
    * [Agent Skills in the SDK](https://docs.claude.com/en/docs/agent-sdk/skills)
    * [Tracking Costs and Usage](https://docs.claude.com/en/docs/agent-sdk/cost-tracking)
    * [Todo Lists](https://docs.claude.com/en/docs/agent-sdk/todo-tracking)
    * [Plugins in the SDK](https://docs.claude.com/en/docs/agent-sdk/plugins)


##### MCP in the API
  * [MCP connector](https://docs.claude.com/en/docs/agents-and-tools/mcp-connector)
  * [Remote MCP servers](https://docs.claude.com/en/docs/agents-and-tools/remote-mcp-servers)


##### Claude on 3rd-party platforms
  * [Amazon Bedrock](https://docs.claude.com/en/docs/build-with-claude/claude-on-amazon-bedrock)
  * [Vertex AI](https://docs.claude.com/en/docs/build-with-claude/claude-on-vertex-ai)


##### Prompt engineering
  * [Overview](https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/overview)
  * [Prompt generator](https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/prompt-generator)
  * [Use prompt templates](https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/prompt-templates-and-variables)
  * [Prompt improver](https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/prompt-improver)
  * [Be clear and direct](https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/be-clear-and-direct)
  * [Use examples (multishot prompting)](https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/multishot-prompting)
  * [Let Claude think (CoT)](https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/chain-of-thought)
  * [Use XML tags](https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/use-xml-tags)
  * [Give Claude a role (system prompts)](https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/system-prompts)
  * [Prefill Claude's response](https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/prefill-claudes-response)
  * [Chain complex prompts](https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/chain-prompts)
  * [Long context tips](https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/long-context-tips)
  * [Extended thinking tips](https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/extended-thinking-tips)


##### Test & evaluate
  * [Define success criteria](https://docs.claude.com/en/docs/test-and-evaluate/define-success)
  * [Develop test cases](https://docs.claude.com/en/docs/test-and-evaluate/develop-tests)
  * [Using the Evaluation Tool](https://docs.claude.com/en/docs/test-and-evaluate/eval-tool)
  * [Reducing latency](https://docs.claude.com/en/docs/test-and-evaluate/strengthen-guardrails/reduce-latency)


##### Strengthen guardrails
  * [Reduce hallucinations](https://docs.claude.com/en/docs/test-and-evaluate/strengthen-guardrails/reduce-hallucinations)
  * [Increase output consistency](https://docs.claude.com/en/docs/test-and-evaluate/strengthen-guardrails/increase-consistency)
  * [Mitigate jailbreaks](https://docs.claude.com/en/docs/test-and-evaluate/strengthen-guardrails/mitigate-jailbreaks)
  * [Streaming refusals](https://docs.claude.com/en/docs/test-and-evaluate/strengthen-guardrails/handle-streaming-refusals)
  * [Reduce prompt leak](https://docs.claude.com/en/docs/test-and-evaluate/strengthen-guardrails/reduce-prompt-leak)
  * [Keep Claude in character](https://docs.claude.com/en/docs/test-and-evaluate/strengthen-guardrails/keep-claude-in-character)


##### Administration and monitoring
  * [Admin API overview](https://docs.claude.com/en/docs/build-with-claude/administration-api)
  * [Usage and Cost API](https://docs.claude.com/en/docs/build-with-claude/usage-cost-api)
  * [Claude Code Analytics API](https://docs.claude.com/en/docs/build-with-claude/claude-code-analytics-api)


On this page
  * [What are plugins?](https://docs.claude.com/en/docs/agent-sdk/plugins#what-are-plugins%3F)
  * [Loading plugins](https://docs.claude.com/en/docs/agent-sdk/plugins#loading-plugins)
  * [Path specifications](https://docs.claude.com/en/docs/agent-sdk/plugins#path-specifications)
  * [Verifying plugin installation](https://docs.claude.com/en/docs/agent-sdk/plugins#verifying-plugin-installation)
  * [Using plugin commands](https://docs.claude.com/en/docs/agent-sdk/plugins#using-plugin-commands)
  * [Complete example](https://docs.claude.com/en/docs/agent-sdk/plugins#complete-example)
  * [Plugin structure reference](https://docs.claude.com/en/docs/agent-sdk/plugins#plugin-structure-reference)
  * [Common use cases](https://docs.claude.com/en/docs/agent-sdk/plugins#common-use-cases)
  * [Development and testing](https://docs.claude.com/en/docs/agent-sdk/plugins#development-and-testing)
  * [Project-specific extensions](https://docs.claude.com/en/docs/agent-sdk/plugins#project-specific-extensions)
  * [Multiple plugin sources](https://docs.claude.com/en/docs/agent-sdk/plugins#multiple-plugin-sources)
  * [Troubleshooting](https://docs.claude.com/en/docs/agent-sdk/plugins#troubleshooting)
  * [Plugin not loading](https://docs.claude.com/en/docs/agent-sdk/plugins#plugin-not-loading)
  * [Commands not available](https://docs.claude.com/en/docs/agent-sdk/plugins#commands-not-available)
  * [Path resolution issues](https://docs.claude.com/en/docs/agent-sdk/plugins#path-resolution-issues)
  * [See also](https://docs.claude.com/en/docs/agent-sdk/plugins#see-also)


Guides
# Plugins in the SDK
Copy page
Load custom plugins to extend Claude Code with commands, agents, skills, and hooks through the Agent SDK
Copy page
Plugins allow you to extend Claude Code with custom functionality that can be shared across projects. Through the Agent SDK, you can programmatically load plugins from local directories to add custom slash commands, agents, skills, hooks, and MCP servers to your agent sessions.
## 
[​](https://docs.claude.com/en/docs/agent-sdk/plugins#what-are-plugins%3F)
What are plugins?
Plugins are packages of Claude Code extensions that can include:
  * **Commands** : Custom slash commands
  * **Agents** : Specialized subagents for specific tasks
  * **Skills** : Model-invoked capabilities that Claude uses autonomously
  * **Hooks** : Event handlers that respond to tool use and other events
  * **MCP servers** : External tool integrations via Model Context Protocol

For complete information on plugin structure and how to create plugins, see [Plugins](https://code.claude.com/docs/en/plugins).
## 
[​](https://docs.claude.com/en/docs/agent-sdk/plugins#loading-plugins)
Loading plugins
Load plugins by providing their local file system paths in your options configuration. The SDK supports loading multiple plugins from different locations.
TypeScript
Python
Copy
```
import { query } from "@anthropic-ai/claude-agent-sdk";
for await (const message of query({
  prompt: "Hello",
  options: {
    plugins: [
      { type: "local", path: "./my-plugin" },
      { type: "local", path: "/absolute/path/to/another-plugin" }
    ]
  }
})) {
  // Plugin commands, agents, and other features are now available
}

```

### 
[​](https://docs.claude.com/en/docs/agent-sdk/plugins#path-specifications)
Path specifications
Plugin paths can be:
  * **Relative paths** : Resolved relative to your current working directory (e.g., `"./plugins/my-plugin"`)
  * **Absolute paths** : Full file system paths (e.g., `"/home/user/plugins/my-plugin"`)


The path should point to the plugin’s root directory (the directory containing `.claude-plugin/plugin.json`).
## 
[​](https://docs.claude.com/en/docs/agent-sdk/plugins#verifying-plugin-installation)
Verifying plugin installation
When plugins load successfully, they appear in the system initialization message. You can verify that your plugins are available:
TypeScript
Python
Copy
```
import { query } from "@anthropic-ai/claude-agent-sdk";
for await (const message of query({
  prompt: "Hello",
  options: {
    plugins: [{ type: "local", path: "./my-plugin" }]
  }
})) {
  if (message.type === "system" && message.subtype === "init") {
    // Check loaded plugins
    console.log("Plugins:", message.plugins);
    // Example: [{ name: "my-plugin", path: "./my-plugin" }]
    // Check available commands from plugins
    console.log("Commands:", message.slash_commands);
    // Example: ["/help", "/compact", "my-plugin:custom-command"]
  }
}

```

## 
[​](https://docs.claude.com/en/docs/agent-sdk/plugins#using-plugin-commands)
Using plugin commands
Commands from plugins are automatically namespaced with the plugin name to avoid conflicts. The format is `plugin-name:command-name`.
TypeScript
Python
Copy
```
import { query } from "@anthropic-ai/claude-agent-sdk";
// Load a plugin with a custom /greet command
for await (const message of query({
  prompt: "/my-plugin:greet",  // Use plugin command with namespace
  options: {
    plugins: [{ type: "local", path: "./my-plugin" }]
  }
})) {
  // Claude executes the custom greeting command from the plugin
  if (message.type === "assistant") {
    console.log(message.content);
  }
}

```

If you installed a plugin via the CLI (e.g., `/plugin install my-plugin@marketplace`), you can still use it in the SDK by providing its installation path. Check `~/.claude/plugins/` for CLI-installed plugins.
## 
[​](https://docs.claude.com/en/docs/agent-sdk/plugins#complete-example)
Complete example
Here’s a full example demonstrating plugin loading and usage:
TypeScript
Python
Copy
```
import { query } from "@anthropic-ai/claude-agent-sdk";
import * as path from "path";
async function runWithPlugin() {
  const pluginPath = path.join(__dirname, "plugins", "my-plugin");
  console.log("Loading plugin from:", pluginPath);
  for await (const message of query({
    prompt: "What custom commands do you have available?",
    options: {
      plugins: [
        { type: "local", path: pluginPath }
      ],
      maxTurns: 3
    }
  })) {
    if (message.type === "system" && message.subtype === "init") {
      console.log("Loaded plugins:", message.plugins);
      console.log("Available commands:", message.slash_commands);
    }
    if (message.type === "assistant") {
      console.log("Assistant:", message.content);
    }
  }
}
runWithPlugin().catch(console.error);

```

## 
[​](https://docs.claude.com/en/docs/agent-sdk/plugins#plugin-structure-reference)
Plugin structure reference
A plugin directory must contain a `.claude-plugin/plugin.json` manifest file. It can optionally include:
Copy
```
my-plugin/
├── .claude-plugin/
│   └── plugin.json          # Required: plugin manifest
├── commands/                 # Custom slash commands
│   └── custom-cmd.md
├── agents/                   # Custom agents
│   └── specialist.md
├── skills/                   # Agent Skills
│   └── my-skill/
│       └── SKILL.md
├── hooks/                    # Event handlers
│   └── hooks.json
└── .mcp.json                # MCP server definitions

```

For detailed information on creating plugins, see:
  * [Plugins](https://code.claude.com/docs/en/plugins) - Complete plugin development guide
  * [Plugins reference](https://code.claude.com/docs/en/plugins-reference) - Technical specifications and schemas


## 
[​](https://docs.claude.com/en/docs/agent-sdk/plugins#common-use-cases)
Common use cases
### 
[​](https://docs.claude.com/en/docs/agent-sdk/plugins#development-and-testing)
Development and testing
Load plugins during development without installing them globally:
Copy
```
plugins: [
  { type: "local", path: "./dev-plugins/my-plugin" }
]

```

### 
[​](https://docs.claude.com/en/docs/agent-sdk/plugins#project-specific-extensions)
Project-specific extensions
Include plugins in your project repository for team-wide consistency:
Copy
```
plugins: [
  { type: "local", path: "./project-plugins/team-workflows" }
]

```

### 
[​](https://docs.claude.com/en/docs/agent-sdk/plugins#multiple-plugin-sources)
Multiple plugin sources
Combine plugins from different locations:
Copy
```
plugins: [
  { type: "local", path: "./local-plugin" },
  { type: "local", path: "~/.claude/custom-plugins/shared-plugin" }
]

```

## 
[​](https://docs.claude.com/en/docs/agent-sdk/plugins#troubleshooting)
Troubleshooting
### 
[​](https://docs.claude.com/en/docs/agent-sdk/plugins#plugin-not-loading)
Plugin not loading
If your plugin doesn’t appear in the init message:
  1. **Check the path** : Ensure the path points to the plugin root directory (containing `.claude-plugin/`)
  2. **Validate plugin.json** : Ensure your manifest file has valid JSON syntax
  3. **Check file permissions** : Ensure the plugin directory is readable


### 
[​](https://docs.claude.com/en/docs/agent-sdk/plugins#commands-not-available)
Commands not available
If plugin commands don’t work:
  1. **Use the namespace** : Plugin commands require the `plugin-name:command-name` format
  2. **Check init message** : Verify the command appears in `slash_commands` with the correct namespace
  3. **Validate command files** : Ensure command markdown files are in the `commands/` directory


### 
[​](https://docs.claude.com/en/docs/agent-sdk/plugins#path-resolution-issues)
Path resolution issues
If relative paths don’t work:
  1. **Check working directory** : Relative paths are resolved from your current working directory
  2. **Use absolute paths** : For reliability, consider using absolute paths
  3. **Normalize paths** : Use path utilities to construct paths correctly


## 
[​](https://docs.claude.com/en/docs/agent-sdk/plugins#see-also)
See also
  * [Plugins](https://code.claude.com/docs/en/plugins) - Complete plugin development guide
  * [Plugins reference](https://code.claude.com/docs/en/plugins-reference) - Technical specifications
  * [Slash Commands](https://docs.claude.com/en/docs/agent-sdk/slash-commands) - Using slash commands in the SDK
  * [Subagents](https://docs.claude.com/en/docs/agent-sdk/subagents) - Working with specialized agents
  * [Skills](https://docs.claude.com/en/docs/agent-sdk/skills) - Using Agent Skills


Was this page helpful?
YesNo
[Todo Lists](https://docs.claude.com/en/docs/agent-sdk/todo-tracking)[MCP connector](https://docs.claude.com/en/docs/agents-and-tools/mcp-connector)
Assistant
Responses are generated using AI and may contain mistakes.
[Claude Docs home page![light logo](https://mintcdn.com/anthropic-claude-docs/DcI2Ybid7ZEnFaf0/logo/light.svg?fit=max&auto=format&n=DcI2Ybid7ZEnFaf0&q=85&s=c877c45432515ee69194cb19e9f983a2)![dark logo](https://mintcdn.com/anthropic-claude-docs/DcI2Ybid7ZEnFaf0/logo/dark.svg?fit=max&auto=format&n=DcI2Ybid7ZEnFaf0&q=85&s=f5bb877be0cb3cba86cf6d7c88185216)](https://docs.claude.com/)
[x](https://x.com/AnthropicAI)[linkedin](https://www.linkedin.com/company/anthropicresearch)
Company
[Anthropic](https://www.anthropic.com/company)[Careers](https://www.anthropic.com/careers)[Economic Futures](https://www.anthropic.com/economic-futures)[Research](https://www.anthropic.com/research)[News](https://www.anthropic.com/news)[Trust center](https://trust.anthropic.com/)[Transparency](https://www.anthropic.com/transparency)
Help and security
[Availability](https://www.anthropic.com/supported-countries)[Status](https://status.anthropic.com/)[Support center](https://support.claude.com/)
Learn
[Courses](https://www.anthropic.com/learn)[MCP connectors](https://claude.com/partners/mcp)[Customer stories](https://www.claude.com/customers)[Engineering blog](https://www.anthropic.com/engineering)[Events](https://www.anthropic.com/events)[Powered by Claude](https://claude.com/partners/powered-by-claude)[Service partners](https://claude.com/partners/services)[Startups program](https://claude.com/programs/startups)
Terms and policies
[Privacy policy](https://www.anthropic.com/legal/privacy)[Disclosure policy](https://www.anthropic.com/responsible-disclosure-policy)[Usage policy](https://www.anthropic.com/legal/aup)[Commercial terms](https://www.anthropic.com/legal/commercial-terms)[Consumer terms](https://www.anthropic.com/legal/consumer-terms)
