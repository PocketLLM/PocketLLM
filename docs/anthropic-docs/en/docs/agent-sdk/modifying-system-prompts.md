# Modifying system prompts - Claude Docs> Source: https://docs.claude.com/en/docs/agent-sdk/modifying-system-promptsAgent Skills are now available! [Learn more about extending Claude's capabilities with Agent Skills](https://docs.claude.com/en/docs/agents-and-tools/agent-skills/overview).
[Claude Docs home page![light logo](https://mintcdn.com/anthropic-claude-docs/DcI2Ybid7ZEnFaf0/logo/light.svg?fit=max&auto=format&n=DcI2Ybid7ZEnFaf0&q=85&s=c877c45432515ee69194cb19e9f983a2)![dark logo](https://mintcdn.com/anthropic-claude-docs/DcI2Ybid7ZEnFaf0/logo/dark.svg?fit=max&auto=format&n=DcI2Ybid7ZEnFaf0&q=85&s=f5bb877be0cb3cba86cf6d7c88185216)](https://docs.claude.com/)
![US](https://d3gk2c5xim1je2.cloudfront.net/flags/US.svg)
English
Search...
Ctrl K
  * [Console](https://console.anthropic.com/login)
  * [Support](https://support.claude.com/)
  * [Discord](https://www.anthropic.com/discord)
  * [Sign up](https://console.anthropic.com/login)
  * [Sign up](https://console.anthropic.com/login)


Search...
Navigation
Guides
Modifying system prompts
[Home](https://docs.claude.com/en/home)[Developer Guide](https://docs.claude.com/en/docs/intro)[API Reference](https://docs.claude.com/en/api/overview)[Model Context Protocol (MCP)](https://docs.claude.com/en/docs/mcp)[Resources](https://docs.claude.com/en/resources/overview)[Release Notes](https://docs.claude.com/en/release-notes/overview)
##### First steps
  * [Intro to Claude](https://docs.claude.com/en/docs/intro)
  * [Quickstart](https://docs.claude.com/en/docs/get-started)


##### Models & pricing
  * [Models overview](https://docs.claude.com/en/docs/about-claude/models/overview)
  * [Choosing a model](https://docs.claude.com/en/docs/about-claude/models/choosing-a-model)
  * [What's new in Claude 4.5](https://docs.claude.com/en/docs/about-claude/models/whats-new-claude-4-5)
  * [Migrating to Claude 4.5](https://docs.claude.com/en/docs/about-claude/models/migrating-to-claude-4)
  * [Model deprecations](https://docs.claude.com/en/docs/about-claude/model-deprecations)
  * [Pricing](https://docs.claude.com/en/docs/about-claude/pricing)


##### Build with Claude
  * [Features overview](https://docs.claude.com/en/docs/build-with-claude/overview)
  * [Using the Messages API](https://docs.claude.com/en/docs/build-with-claude/working-with-messages)
  * [Context windows](https://docs.claude.com/en/docs/build-with-claude/context-windows)
  * [Prompting best practices](https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/claude-4-best-practices)


##### Capabilities
  * [Prompt caching](https://docs.claude.com/en/docs/build-with-claude/prompt-caching)
  * [Context editing](https://docs.claude.com/en/docs/build-with-claude/context-editing)
  * [Extended thinking](https://docs.claude.com/en/docs/build-with-claude/extended-thinking)
  * [Streaming Messages](https://docs.claude.com/en/docs/build-with-claude/streaming)
  * [Batch processing](https://docs.claude.com/en/docs/build-with-claude/batch-processing)
  * [Citations](https://docs.claude.com/en/docs/build-with-claude/citations)
  * [Multilingual support](https://docs.claude.com/en/docs/build-with-claude/multilingual-support)
  * [Token counting](https://docs.claude.com/en/docs/build-with-claude/token-counting)
  * [Embeddings](https://docs.claude.com/en/docs/build-with-claude/embeddings)
  * [Vision](https://docs.claude.com/en/docs/build-with-claude/vision)
  * [PDF support](https://docs.claude.com/en/docs/build-with-claude/pdf-support)
  * [Files API](https://docs.claude.com/en/docs/build-with-claude/files)
  * [Search results](https://docs.claude.com/en/docs/build-with-claude/search-results)
  * [Google Sheets add-on](https://docs.claude.com/en/docs/agents-and-tools/claude-for-sheets)


##### Tools
  * [Overview](https://docs.claude.com/en/docs/agents-and-tools/tool-use/overview)
  * [How to implement tool use](https://docs.claude.com/en/docs/agents-and-tools/tool-use/implement-tool-use)
  * [Token-efficient tool use](https://docs.claude.com/en/docs/agents-and-tools/tool-use/token-efficient-tool-use)
  * [Fine-grained tool streaming](https://docs.claude.com/en/docs/agents-and-tools/tool-use/fine-grained-tool-streaming)
  * [Bash tool](https://docs.claude.com/en/docs/agents-and-tools/tool-use/bash-tool)
  * [Code execution tool](https://docs.claude.com/en/docs/agents-and-tools/tool-use/code-execution-tool)
  * [Computer use tool](https://docs.claude.com/en/docs/agents-and-tools/tool-use/computer-use-tool)
  * [Text editor tool](https://docs.claude.com/en/docs/agents-and-tools/tool-use/text-editor-tool)
  * [Web fetch tool](https://docs.claude.com/en/docs/agents-and-tools/tool-use/web-fetch-tool)
  * [Web search tool](https://docs.claude.com/en/docs/agents-and-tools/tool-use/web-search-tool)
  * [Memory tool](https://docs.claude.com/en/docs/agents-and-tools/tool-use/memory-tool)


##### Agent Skills
  * [Overview](https://docs.claude.com/en/docs/agents-and-tools/agent-skills/overview)
  * [Quickstart](https://docs.claude.com/en/docs/agents-and-tools/agent-skills/quickstart)
  * [Best practices](https://docs.claude.com/en/docs/agents-and-tools/agent-skills/best-practices)
  * [Using Skills with the API](https://docs.claude.com/en/docs/build-with-claude/skills-guide)


##### Agent SDK
  * [Overview](https://docs.claude.com/en/docs/agent-sdk/overview)
  * [TypeScript SDK](https://docs.claude.com/en/docs/agent-sdk/typescript)
  * [Python SDK](https://docs.claude.com/en/docs/agent-sdk/python)
  * Guides
    * [Streaming Input](https://docs.claude.com/en/docs/agent-sdk/streaming-vs-single-mode)
    * [Handling Permissions](https://docs.claude.com/en/docs/agent-sdk/permissions)
    * [Session Management](https://docs.claude.com/en/docs/agent-sdk/sessions)
    * [Hosting the Agent SDK](https://docs.claude.com/en/docs/agent-sdk/hosting)
    * [Modifying system prompts](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts)
    * [MCP in the SDK](https://docs.claude.com/en/docs/agent-sdk/mcp)
    * [Custom Tools](https://docs.claude.com/en/docs/agent-sdk/custom-tools)
    * [Subagents in the SDK](https://docs.claude.com/en/docs/agent-sdk/subagents)
    * [Slash Commands in the SDK](https://docs.claude.com/en/docs/agent-sdk/slash-commands)
    * [Agent Skills in the SDK](https://docs.claude.com/en/docs/agent-sdk/skills)
    * [Tracking Costs and Usage](https://docs.claude.com/en/docs/agent-sdk/cost-tracking)
    * [Todo Lists](https://docs.claude.com/en/docs/agent-sdk/todo-tracking)
    * [Plugins in the SDK](https://docs.claude.com/en/docs/agent-sdk/plugins)


##### MCP in the API
  * [MCP connector](https://docs.claude.com/en/docs/agents-and-tools/mcp-connector)
  * [Remote MCP servers](https://docs.claude.com/en/docs/agents-and-tools/remote-mcp-servers)


##### Claude on 3rd-party platforms
  * [Amazon Bedrock](https://docs.claude.com/en/docs/build-with-claude/claude-on-amazon-bedrock)
  * [Vertex AI](https://docs.claude.com/en/docs/build-with-claude/claude-on-vertex-ai)


##### Prompt engineering
  * [Overview](https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/overview)
  * [Prompt generator](https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/prompt-generator)
  * [Use prompt templates](https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/prompt-templates-and-variables)
  * [Prompt improver](https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/prompt-improver)
  * [Be clear and direct](https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/be-clear-and-direct)
  * [Use examples (multishot prompting)](https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/multishot-prompting)
  * [Let Claude think (CoT)](https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/chain-of-thought)
  * [Use XML tags](https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/use-xml-tags)
  * [Give Claude a role (system prompts)](https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/system-prompts)
  * [Prefill Claude's response](https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/prefill-claudes-response)
  * [Chain complex prompts](https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/chain-prompts)
  * [Long context tips](https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/long-context-tips)
  * [Extended thinking tips](https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/extended-thinking-tips)


##### Test & evaluate
  * [Define success criteria](https://docs.claude.com/en/docs/test-and-evaluate/define-success)
  * [Develop test cases](https://docs.claude.com/en/docs/test-and-evaluate/develop-tests)
  * [Using the Evaluation Tool](https://docs.claude.com/en/docs/test-and-evaluate/eval-tool)
  * [Reducing latency](https://docs.claude.com/en/docs/test-and-evaluate/strengthen-guardrails/reduce-latency)


##### Strengthen guardrails
  * [Reduce hallucinations](https://docs.claude.com/en/docs/test-and-evaluate/strengthen-guardrails/reduce-hallucinations)
  * [Increase output consistency](https://docs.claude.com/en/docs/test-and-evaluate/strengthen-guardrails/increase-consistency)
  * [Mitigate jailbreaks](https://docs.claude.com/en/docs/test-and-evaluate/strengthen-guardrails/mitigate-jailbreaks)
  * [Streaming refusals](https://docs.claude.com/en/docs/test-and-evaluate/strengthen-guardrails/handle-streaming-refusals)
  * [Reduce prompt leak](https://docs.claude.com/en/docs/test-and-evaluate/strengthen-guardrails/reduce-prompt-leak)
  * [Keep Claude in character](https://docs.claude.com/en/docs/test-and-evaluate/strengthen-guardrails/keep-claude-in-character)


##### Administration and monitoring
  * [Admin API overview](https://docs.claude.com/en/docs/build-with-claude/administration-api)
  * [Usage and Cost API](https://docs.claude.com/en/docs/build-with-claude/usage-cost-api)
  * [Claude Code Analytics API](https://docs.claude.com/en/docs/build-with-claude/claude-code-analytics-api)


On this page
  * [Understanding system prompts](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#understanding-system-prompts)
  * [Methods of modification](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#methods-of-modification)
  * [Method 1: CLAUDE.md files (project-level instructions)](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#method-1%3A-claude-md-files-project-level-instructions)
  * [How CLAUDE.md works with the SDK](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#how-claude-md-works-with-the-sdk)
  * [Example CLAUDE.md](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#example-claude-md)
  * [Using CLAUDE.md with the SDK](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#using-claude-md-with-the-sdk)
  * [When to use CLAUDE.md](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#when-to-use-claude-md)
  * [Method 2: Output styles (persistent configurations)](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#method-2%3A-output-styles-persistent-configurations)
  * [Creating an output style](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#creating-an-output-style)
  * [Using output styles](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#using-output-styles)
  * [Method 3: Using systemPrompt with append](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#method-3%3A-using-systemprompt-with-append)
  * [Method 4: Custom system prompts](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#method-4%3A-custom-system-prompts)
  * [Comparison of all four approaches](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#comparison-of-all-four-approaches)
  * [Use cases and best practices](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#use-cases-and-best-practices)
  * [When to use CLAUDE.md](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#when-to-use-claude-md-2)
  * [When to use output styles](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#when-to-use-output-styles)
  * [When to use systemPrompt with append](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#when-to-use-systemprompt-with-append)
  * [When to use custom systemPrompt](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#when-to-use-custom-systemprompt)
  * [Combining approaches](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#combining-approaches)
  * [Example: Output style with session-specific additions](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#example%3A-output-style-with-session-specific-additions)
  * [See also](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#see-also)


Guides
# Modifying system prompts
Copy page
Learn how to customize Claude’s behavior by modifying system prompts using three approaches - output styles, systemPrompt with append, and custom system prompts.
Copy page
System prompts define Claude’s behavior, capabilities, and response style. The Claude Agent SDK provides three ways to customize system prompts: using output styles (persistent, file-based configurations), appending to Claude Code’s prompt, or using a fully custom prompt.
## 
[​](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#understanding-system-prompts)
Understanding system prompts
A system prompt is the initial instruction set that shapes how Claude behaves throughout a conversation.
**Default behavior:** The Agent SDK uses an **empty system prompt** by default for maximum flexibility. To use Claude Code’s system prompt (tool instructions, code guidelines, etc.), specify `systemPrompt: { preset: "claude_code" }` in TypeScript or `system_prompt="claude_code"` in Python.
Claude Code’s system prompt includes:
  * Tool usage instructions and available tools
  * Code style and formatting guidelines
  * Response tone and verbosity settings
  * Security and safety instructions
  * Context about the current working directory and environment


## 
[​](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#methods-of-modification)
Methods of modification
### 
[​](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#method-1%3A-claude-md-files-project-level-instructions)
Method 1: CLAUDE.md files (project-level instructions)
CLAUDE.md files provide project-specific context and instructions that are automatically read by the Agent SDK when it runs in a directory. They serve as persistent “memory” for your project.
#### 
[​](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#how-claude-md-works-with-the-sdk)
How CLAUDE.md works with the SDK
**Location and discovery:**
  * **Project-level:** `CLAUDE.md` or `.claude/CLAUDE.md` in your working directory
  * **User-level:** `~/.claude/CLAUDE.md` for global instructions across all projects

**IMPORTANT:** The SDK only reads CLAUDE.md files when you explicitly configure `settingSources` (TypeScript) or `setting_sources` (Python):
  * Include `'project'` to load project-level CLAUDE.md
  * Include `'user'` to load user-level CLAUDE.md (`~/.claude/CLAUDE.md`)

The `claude_code` system prompt preset does NOT automatically load CLAUDE.md - you must also specify setting sources. **Content format:** CLAUDE.md files use plain markdown and can contain:
  * Coding guidelines and standards
  * Project-specific context
  * Common commands or workflows
  * API conventions
  * Testing requirements


#### 
[​](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#example-claude-md)
Example CLAUDE.md
Copy
```
# Project Guidelines
## Code Style
- Use TypeScript strict mode
- Prefer functional components in React
- Always include JSDoc comments for public APIs
## Testing
- Run `npm test` before committing
- Maintain >80% code coverage
- Use jest for unit tests, playwright for E2E
## Commands
- Build: `npm run build`
- Dev server: `npm run dev`
- Type check: `npm run typecheck`

```

#### 
[​](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#using-claude-md-with-the-sdk)
Using CLAUDE.md with the SDK
TypeScript
Python
Copy
```
import { query } from "@anthropic-ai/claude-agent-sdk";
// IMPORTANT: You must specify settingSources to load CLAUDE.md
// The claude_code preset alone does NOT load CLAUDE.md files
const messages = [];
for await (const message of query({
  prompt: "Add a new React component for user profiles",
  options: {
    systemPrompt: {
      type: "preset",
      preset: "claude_code", // Use Claude Code's system prompt
    },
    settingSources: ["project"], // Required to load CLAUDE.md from project
  },
})) {
  messages.push(message);
}
// Now Claude has access to your project guidelines from CLAUDE.md

```

#### 
[​](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#when-to-use-claude-md)
When to use CLAUDE.md
**Best for:**
  * **Team-shared context** - Guidelines everyone should follow
  * **Project conventions** - Coding standards, file structure, naming patterns
  * **Common commands** - Build, test, deploy commands specific to your project
  * **Long-term memory** - Context that should persist across all sessions
  * **Version-controlled instructions** - Commit to git so the team stays in sync

**Key characteristics:**
  * ✅ Persistent across all sessions in a project
  * ✅ Shared with team via git
  * ✅ Automatic discovery (no code changes needed)
  * ⚠️ Requires loading settings via `settingSources`


### 
[​](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#method-2%3A-output-styles-persistent-configurations)
Method 2: Output styles (persistent configurations)
Output styles are saved configurations that modify Claude’s system prompt. They’re stored as markdown files and can be reused across sessions and projects.
#### 
[​](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#creating-an-output-style)
Creating an output style
TypeScript
Python
Copy
```
import { writeFile, mkdir } from "fs/promises";
import { join } from "path";
import { homedir } from "os";
async function createOutputStyle(
  name: string,
  description: string,
  prompt: string
) {
  // User-level: ~/.claude/output-styles
  // Project-level: .claude/output-styles
  const outputStylesDir = join(homedir(), ".claude", "output-styles");
  await mkdir(outputStylesDir, { recursive: true });
  const content = `---
name: ${name}
description: ${description}
---
${prompt}`;
  const filePath = join(
    outputStylesDir,
    `${name.toLowerCase().replace(/\s+/g, "-")}.md`
  );
  await writeFile(filePath, content, "utf-8");
}
// Example: Create a code review specialist
await createOutputStyle(
  "Code Reviewer",
  "Thorough code review assistant",
  `You are an expert code reviewer.
For every code submission:
1. Check for bugs and security issues
2. Evaluate performance
3. Suggest improvements
4. Rate code quality (1-10)`
);

```

#### 
[​](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#using-output-styles)
Using output styles
Once created, activate output styles via:
  * **CLI** : `/output-style [style-name]`
  * **Settings** : `.claude/settings.local.json`
  * **Create new** : `/output-style:new [description]`

**Note for SDK users:** Output styles are loaded when you include `settingSources: ['user']` or `settingSources: ['project']` (TypeScript) / `setting_sources=["user"]` or `setting_sources=["project"]` (Python) in your options.
### 
[​](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#method-3%3A-using-systemprompt-with-append)
Method 3: Using `systemPrompt` with append
You can use the Claude Code preset with an `append` property to add your custom instructions while preserving all built-in functionality.
TypeScript
Python
Copy
```
import { query } from "@anthropic-ai/claude-agent-sdk";
const messages = [];
for await (const message of query({
  prompt: "Help me write a Python function to calculate fibonacci numbers",
  options: {
    systemPrompt: {
      type: "preset",
      preset: "claude_code",
      append:
        "Always include detailed docstrings and type hints in Python code.",
    },
  },
})) {
  messages.push(message);
  if (message.type === "assistant") {
    console.log(message.message.content);
  }
}

```

### 
[​](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#method-4%3A-custom-system-prompts)
Method 4: Custom system prompts
You can provide a custom string as `systemPrompt` to replace the default entirely with your own instructions.
TypeScript
Python
Copy
```
import { query } from "@anthropic-ai/claude-agent-sdk";
const customPrompt = `You are a Python coding specialist.
Follow these guidelines:
- Write clean, well-documented code
- Use type hints for all functions
- Include comprehensive docstrings
- Prefer functional programming patterns when appropriate
- Always explain your code choices`;
const messages = [];
for await (const message of query({
  prompt: "Create a data processing pipeline",
  options: {
    systemPrompt: customPrompt,
  },
})) {
  messages.push(message);
  if (message.type === "assistant") {
    console.log(message.message.content);
  }
}

```

## 
[​](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#comparison-of-all-four-approaches)
Comparison of all four approaches
Feature | CLAUDE.md | Output Styles |  `systemPrompt` with append | Custom `systemPrompt`  
---|---|---|---|---  
**Persistence** | Per-project file | Saved as files | Session only | Session only  
**Reusability** | Per-project | Across projects | Code duplication | Code duplication  
**Management** | On filesystem | CLI + files | In code | In code  
**Default tools** | Preserved | Preserved | Preserved | Lost (unless included)  
**Built-in safety** | Maintained | Maintained | Maintained | Must be added  
**Environment context** | Automatic | Automatic | Automatic | Must be provided  
**Customization level** | Additions only | Replace default | Additions only | Complete control  
**Version control** | With project | Yes | With code | With code  
**Scope** | Project-specific | User or project | Code session | Code session  
**Note:** “With append” means using `systemPrompt: { type: "preset", preset: "claude_code", append: "..." }` in TypeScript or `system_prompt={"type": "preset", "preset": "claude_code", "append": "..."}` in Python.
## 
[​](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#use-cases-and-best-practices)
Use cases and best practices
### 
[​](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#when-to-use-claude-md-2)
When to use CLAUDE.md
**Best for:**
  * Project-specific coding standards and conventions
  * Documenting project structure and architecture
  * Listing common commands (build, test, deploy)
  * Team-shared context that should be version controlled
  * Instructions that apply to all SDK usage in a project

**Examples:**
  * “All API endpoints should use async/await patterns”
  * “Run `npm run lint:fix` before committing”
  * “Database migrations are in the `migrations/` directory”

**Important:** To load CLAUDE.md files, you must explicitly set `settingSources: ['project']` (TypeScript) or `setting_sources=["project"]` (Python). The `claude_code` system prompt preset does NOT automatically load CLAUDE.md without this setting.
### 
[​](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#when-to-use-output-styles)
When to use output styles
**Best for:**
  * Persistent behavior changes across sessions
  * Team-shared configurations
  * Specialized assistants (code reviewer, data scientist, DevOps)
  * Complex prompt modifications that need versioning

**Examples:**
  * Creating a dedicated SQL optimization assistant
  * Building a security-focused code reviewer
  * Developing a teaching assistant with specific pedagogy


### 
[​](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#when-to-use-systemprompt-with-append)
When to use `systemPrompt` with append
**Best for:**
  * Adding specific coding standards or preferences
  * Customizing output formatting
  * Adding domain-specific knowledge
  * Modifying response verbosity
  * Enhancing Claude Code’s default behavior without losing tool instructions


### 
[​](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#when-to-use-custom-systemprompt)
When to use custom `systemPrompt`
**Best for:**
  * Complete control over Claude’s behavior
  * Specialized single-session tasks
  * Testing new prompt strategies
  * Situations where default tools aren’t needed
  * Building specialized agents with unique behavior


## 
[​](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#combining-approaches)
Combining approaches
You can combine these methods for maximum flexibility:
### 
[​](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#example%3A-output-style-with-session-specific-additions)
Example: Output style with session-specific additions
TypeScript
Python
Copy
```
import { query } from "@anthropic-ai/claude-agent-sdk";
// Assuming "Code Reviewer" output style is active (via /output-style)
// Add session-specific focus areas
const messages = [];
for await (const message of query({
  prompt: "Review this authentication module",
  options: {
    systemPrompt: {
      type: "preset",
      preset: "claude_code",
      append: `
        For this review, prioritize:
        - OAuth 2.0 compliance
        - Token storage security
        - Session management
      `,
    },
  },
})) {
  messages.push(message);
}

```

## 
[​](https://docs.claude.com/en/docs/agent-sdk/modifying-system-prompts#see-also)
See also
  * [Output styles](https://code.claude.com/docs/en/output-styles) - Complete output styles documentation
  * [TypeScript SDK guide](https://docs.claude.com/en/docs/agent-sdk/typescript) - Complete SDK usage guide
  * [Configuration guide](https://code.claude.com/docs/en/settings) - General configuration options


Was this page helpful?
YesNo
[Hosting the Agent SDK](https://docs.claude.com/en/docs/agent-sdk/hosting)[MCP in the SDK](https://docs.claude.com/en/docs/agent-sdk/mcp)
Assistant
Responses are generated using AI and may contain mistakes.
[Claude Docs home page![light logo](https://mintcdn.com/anthropic-claude-docs/DcI2Ybid7ZEnFaf0/logo/light.svg?fit=max&auto=format&n=DcI2Ybid7ZEnFaf0&q=85&s=c877c45432515ee69194cb19e9f983a2)![dark logo](https://mintcdn.com/anthropic-claude-docs/DcI2Ybid7ZEnFaf0/logo/dark.svg?fit=max&auto=format&n=DcI2Ybid7ZEnFaf0&q=85&s=f5bb877be0cb3cba86cf6d7c88185216)](https://docs.claude.com/)
[x](https://x.com/AnthropicAI)[linkedin](https://www.linkedin.com/company/anthropicresearch)
Company
[Anthropic](https://www.anthropic.com/company)[Careers](https://www.anthropic.com/careers)[Economic Futures](https://www.anthropic.com/economic-futures)[Research](https://www.anthropic.com/research)[News](https://www.anthropic.com/news)[Trust center](https://trust.anthropic.com/)[Transparency](https://www.anthropic.com/transparency)
Help and security
[Availability](https://www.anthropic.com/supported-countries)[Status](https://status.anthropic.com/)[Support center](https://support.claude.com/)
Learn
[Courses](https://www.anthropic.com/learn)[MCP connectors](https://claude.com/partners/mcp)[Customer stories](https://www.claude.com/customers)[Engineering blog](https://www.anthropic.com/engineering)[Events](https://www.anthropic.com/events)[Powered by Claude](https://claude.com/partners/powered-by-claude)[Service partners](https://claude.com/partners/services)[Startups program](https://claude.com/programs/startups)
Terms and policies
[Privacy policy](https://www.anthropic.com/legal/privacy)[Disclosure policy](https://www.anthropic.com/responsible-disclosure-policy)[Usage policy](https://www.anthropic.com/legal/aup)[Commercial terms](https://www.anthropic.com/legal/commercial-terms)[Consumer terms](https://www.anthropic.com/legal/consumer-terms)
